{% extends 'base.html.twig' %}

{% block title %}Dashboard{% endblock %}

{% block body %}
    <!-- MAIN CONTENT-->
    <div class="section__content section__content--p30">
        <div class="container-fluid">
            <div class="row">
                <div class="col-md-12">
                    <div class="overview-wrap">
                        <h2 class="title-1">overview</h2>
                        {#<button class="au-btn au-btn-icon au-btn--blue"><i class="zmdi zmdi-plus"></i>add item</button>#}
                    </div>
                </div>
            </div>
            <div class="row m-t-25">
                <div class="col-sm-6 col-lg-3">
                    <div class="overview-item overview-item--c1">
                        <div class="overview__inner">
                            <div class="overview-box clearfix">
                                <div class="icon">
                                    <i class="zmdi zmdi-account-o"></i>
                                </div>
                                <div class="text">
                                    <h2>{{ nbCustomers }}</h2>
                                    <span>customers</span>
                                </div>
                            </div>
                            <div class="overview-chart">
                                <canvas id="widgetChart1" data-chart="{{ nbCustomersByMonth|json_encode() }}"></canvas>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-sm-6 col-lg-3">
                    <div class="overview-item overview-item--c2">
                        <div class="overview__inner">
                            <div class="overview-box clearfix">
                                <div class="icon">
                                    <i class="zmdi zmdi-shopping-cart"></i>
                                </div>
                                <div class="text">
                                    <h2>{{ nbOrders }}</h2>
                                    <span>items sold</span>
                                </div>
                            </div>
                            <div class="overview-chart">
                                <canvas id="widgetChart2" data-chart="{{ nbOrdersByMonth|json_encode() }}"></canvas>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-sm-6 col-lg-3">
                    <div class="overview-item overview-item--c3">
                        <div class="overview__inner">
                            <div class="overview-box clearfix">
                                <div class="icon">
                                    <i class="zmdi zmdi-alert-circle-o"></i>
                                </div>
                                <div class="text">
                                    <h2>{{ nbOrdersDenied }}</h2>
                                    <span>denieded</span>
                                </div>
                            </div>
                            <div class="overview-chart">
                                <canvas id="widgetChart3"></canvas>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-sm-6 col-lg-3">
                    <div class="overview-item overview-item--c4">
                        <div class="overview__inner">
                            <div class="overview-box clearfix">
                                <div class="icon">
                                    <i class="zmdi zmdi-money"></i>
                                </div>
                                <div class="text">
                                    <h2>{{ totalEarnings|number_format }}</h2>
                                    <span>total earnings</span>
                                </div>
                            </div>
                            <div class="overview-chart">
                                <canvas id="widgetChart4" data-chart="{{ totalEarningsByMonth|json_encode() }}"></canvas>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-lg-6">
                    <div class="au-card recent-report">
                        <div class="au-card-inner">
                            <h3 class="title-2">months reports</h3>
                            <div class="chart-note-wrap">
                                {% set colorstab = ['blue', 'red', 'green'] %}
                                {% for type in nbOrdersByTypeProductPerMonth.types %}
                                    <div class="chart-note">
                                        <span class="dot dot--{{ colorstab[loop.index-1] }}"></span>
                                        <span>{{ type }}</span>
                                    </div>
                                {% endfor %}
                            </div>
                            <div class="recent-report__chart">
                                <canvas id="recent-rep-chart" data-chart="{{ nbOrdersByTypeProductPerMonth|json_encode() }}"></canvas>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-lg-6">
                    <div class="au-card chart-percent-card">
                        <div class="au-card-inner">
                            <h3 class="title-2 tm-b-5">Orders by product %</h3>
                            <div class="row no-gutters">
                                <div class="col-xl-6">
                                    <div class="chart-note-wrap">
                                        {% set colorstab = ['blue', 'red', 'green'] %}
                                        {% for type in nbOrdersByTypeProduct.types %}
                                            <div class="chart-note mr-0 d-block">
                                                <span class="dot dot--{{ colorstab[loop.index-1] }}"></span>
                                                <span>{{ type }}</span>
                                            </div>
                                        {% endfor %}
                                    </div>
                                </div>
                                <div class="col-xl-6">
                                    <div class="percent-chart">
                                        <canvas id="percent-chart" data-chart="{{ nbOrdersByTypeProduct|json_encode() }}"></canvas>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- END MAIN CONTENT-->
{% endblock %}

{% block javascripts %}
    <script type="text/javascript" src="{{ asset('build/chart.js')}}"></script>
{% endblock %}
